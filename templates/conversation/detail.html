{% extends 'core/base.html' %}

{% block title %}Conversation{% endblock %}

{% block content %}
<div style="width: 100%; height: 80vh; ">
    <h1 style='justify-content:center ;background: #f3f2f2 ;height:50px;display:flex; padding:10px 10px 30px 10px; align-items:center; border:1px rgba(131, 130, 130, 0.438) solid ;'>Conversation</h1>

    <div style='margin-top:40px'>
        {% for message in conversation.messages.all %}
        <div style=" border-radius:20px; min-width:300px; margin:10px; padding:10px 30px;{% if message.created_by == request.user %} background: #00e; {% else %} background: #50a; {% endif %} ">
                <div class='message'>
                    <p ><strong>{{ message.created_by.username }}</strong> @ {{ message.created_at }}</p>
                    <p>{{ message.content }}</p>
                </div>
            </div>
            
        {% endfor %}
    </div>

    <form method="post" action="." style='display: flex; margin:30px 10px 10px 5px;align-items: end;' >
        {% csrf_token %}

        {{ form.content }}

        <br>
        <button class='button' style='height:55px; width:110px; border-radius:0 10px 10px 0;font-size:18px'>Send</button>
    </form>
    <br>

</div>


{% endblock %}